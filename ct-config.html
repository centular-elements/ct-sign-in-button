<link rel="import" href="../ct-core-utils/ct-context.html">

<dom-module id="ct-config">
    <template>
    </template>

    <script>
        (function () {
            var CT = window.CT;
            Polymer({
                is: 'ct-config',

                properties: {
                    /**
                     * Your client id obtained from client registration
                     */
                    clientId: String,
                    /**
                     * Token redirect uri you've registered for this client
                     */
                    tokenRedirectUri: String,
                    /**
                     * Authentication host location
                     */
                    authHostUrl: String,
                    /**
                     * API host location
                     */
                    apiHostUrl: String
                },

                observers: [
                    '_setConfig(clientId, tokenRedirectUri, authHostUrl, apiHostUrl)'
                ],

                _setConfig: function (clientId, tokenRedirectUri, authHostUrl, apiHostUrl) {
                    CT.context = {
                        clientId: this.clientId,
                        tokenRedirectUri: this.tokenRedirectUri,
                        authHostUrl: this.authHostUrl,
                        apiHostUrl: this.apiHostUrl
                    };
                    this.fire('ct-config-loaded');
                }
            });
        })();
    </script>
</dom-module>